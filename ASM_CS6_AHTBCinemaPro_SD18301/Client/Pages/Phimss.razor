@page "/phim"
@using ASM_CS6_AHTBCinemaPro_SD18301.Models
@using Newtonsoft.Json
@inject HttpClient Http

<h1>Danh sách ghế</h1>

@if (phims == null)
{
    <p><em>Loading...</em></p>
}
else if (phims.Count == 0)
{
    <p>No seats available.</p>
}
else
{
    <ul>
        @foreach (var ghe in phims)
        {
            <li style="color: white;">@ghe.TenPhim</li>
        }
    </ul>
}

@code {
    private List<Phim> phims;

    protected override async Task OnInitializedAsync()
    {
        var respone = await Http.GetStringAsync("api/Phim/GetPhim");
        phims = JsonConvert.DeserializeObject<List<Phim>>(respone);
    }
}